<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>PaperRatCrafts</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="/images/Logo_trans.png">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <style>
    /* Basic layout styles - you can move these into style.css if you prefer */
    :root{
      --accent:#9c5fce;
      --muted:#666;
      --bg:#fff;
      --card:#f9f9fb;
      --max-width:1100px;
    }
    body{
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      margin:0;
      background:var(--bg);
      color:#111;
      display:flex;
      justify-content:center;
    }
    .wrap{
      width:100%;
      max-width:var(--max-width);
      padding:20px;
    }
    header{
      text-align:center;
      margin-bottom:18px;
    }
    header h1{margin:4px 0}
    nav.menu{
      display:flex;
      gap:8px;
      justify-content:center;
      margin-bottom:14px;
      flex-wrap:wrap;
    }
    nav.menu button{
      background:transparent;
      border:1px solid #ddd;
      padding:8px 14px;
      border-radius:20px;
      cursor:pointer;
      transition:all .15s;
    }
    nav.menu button.active{
      background:var(--accent);
      color:#fff;
      border-color:var(--accent);
      box-shadow:0 6px 18px rgba(156,95,206,.12);
    }

    /* Gallery area */
    .gallery-area{
      display:grid;
      grid-template-columns: 1fr 320px;
      gap:20px;
      align-items:start;
      margin-bottom:28px;
    }
    /* If smaller screen, stack */
    @media (max-width:900px){
      .gallery-area{grid-template-columns:1fr}
      .details-panel{order:2}
    }

    .thumbnails {
      display:flex;
      gap:10px;
      overflow-x:auto;
      padding:10px 6px;
      align-items:center;
      background:var(--card);
      border-radius:8px;
      border:1px solid #eee;
      height:190px; /* one-image-high look */
      scroll-behavior:smooth;
    }
    .thumbnails img{
      height:160px;
      border-radius:6px;
      object-fit:cover;
      cursor:pointer;
      box-shadow:0 3px 8px rgba(0,0,0,.06);
      transition: transform .12s, box-shadow .12s;
      flex:0 0 auto;
    }
    .thumbnails img:hover{ transform: translateY(-4px); box-shadow:0 8px 18px rgba(0,0,0,.12); }

    .preview {
      display:flex;
      gap:16px;
      align-items:flex-start;
    }
    .preview img#selectedImage{
      max-width:100%;
      max-height:460px;
      width:auto;
      border-radius:8px;
      object-fit:contain;
      background:#fff;
      border:1px solid #eee;
    }

    .details-panel{
      background:var(--card);
      border-radius:8px;
      padding:12px;
      border:1px solid #eee;
      width:100%;
      box-sizing:border-box;
    }
    .details-panel label{display:block; font-size:13px; color:var(--muted); margin-top:8px}
    .details-panel input[type="text"],
    .details-panel input[type="date"],
    .details-panel textarea{
      width:100%;
      box-sizing:border-box;
      padding:8px;
      margin-top:6px;
      border-radius:6px;
      border:1px solid #ddd;
      background:#fff;
      font-size:14px;
    }
    .details-panel textarea{min-height:120px; resize:vertical}
    .details-actions{
      display:flex;
      gap:8px;
      margin-top:10px;
      justify-content:flex-end;
    }
    .btn{
      background:var(--accent);
      color:#fff;
      border:0;
      padding:8px 12px;
      border-radius:6px;
      cursor:pointer;
    }
    .btn.secondary{background:#eee;color:#333}

    /* About section */
    .about{
      display:grid;
      grid-template-columns:1fr 420px 1fr;
      gap:20px;
      align-items:center;
      margin-bottom:24px;
    }
    @media (max-width:1100px){
      .about{grid-template-columns:1fr; text-align:center}
    }
    .about .slot{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:12px;
      flex-direction:column;
    }
    .about .round {
      width:220px;height:220px;border-radius:50%;
      object-fit:cover;border:4px solid #fff;box-shadow:0 6px 18px rgba(0,0,0,.08);
      background:#eee;
    }
    .about .side-images{
      display:flex;
      gap:12px;
      flex-direction:column;
      align-items:center;
    }
    .about .side-images img{width:160px;height:110px;object-fit:cover;border-radius:8px;border:1px solid #eee}

    /* Contact & footer */
    .contact{
      padding:14px;
      border-radius:8px;
      border:1px solid #eee;
      background:var(--card);
      margin-bottom:18px;
    }
    footer{
      text-align:center;
      color:var(--muted);
      font-size:14px;
      margin-top:8px;
    }
    /* small helpers */
    .muted{color:var(--muted); font-size:14px}
    .placeholder{color:#999; font-size:14px}
  </style>
</head>
<body>

<div class="wrap">
  <header>
    <h1>Paper Rat Crafts</h1>
    <p class="muted">Undecided-medium artist</p>
  </header>

  <!-- Horizontal menu -->
  <nav class="menu" id="categoryMenu" aria-label="Art categories">
    <!-- Buttons injected by JS -->
  </nav>

  <!-- Gallery: thumbnails (one-high, sideways scrollable) + preview + details -->
  <section class="gallery-area" aria-label="Gallery area">
    <div>
      <div class="thumbnails" id="thumbnails" aria-live="polite">
        <!-- Thumbnail images injected here -->
      </div>

      <div class="preview" style="margin-top:12px;">
        <div style="flex:1;">
          <img id="selectedImage" alt="Selected artwork" src="images/Logo_profiil.png">
        </div>
        <aside class="details-panel" style="width:320px;">
          <div style="font-weight:600">Image details</div>
          <div id="noSelection" class="placeholder" style="margin-top:8px">Click a thumbnail to view details and edit.</div>

          <div id="detailsForm" style="display:none">
            <label for="imgTitle">Title</label>
            <input id="imgTitle" type="text" placeholder="Title">

            <label for="imgDate">Date</label>
            <input id="imgDate" type="date">

            <label for="imgDesc">Description</label>
            <textarea id="imgDesc" placeholder="Add a description, materials, size, etc."></textarea>

            <div class="details-actions">
              <button class="btn secondary" id="clearDetails">Clear</button>
              <button class="btn" id="saveDetails">Save</button>
            </div>
          </div>
        </aside>
      </div>
    </div>

    <!-- details/side panel for mobile or additional info (kept for layout) -->
    <div class="details-panel" style="display:none;"></div>
  </section>

  <!-- About me -->
  <section class="about" aria-label="About me">
    <div class="side-images" style="align-items:flex-end;">
      <img src="images/about-left-1.png" alt="left sample" onerror="this.style.visibility='hidden'">
      <img src="images/about-left-2.png" alt="left sample 2" onerror="this.style.visibility='hidden'">
    </div>

    <div style="text-align:center">
      <div>
        <img id="aboutPhoto" class="round" src="images/Logo_profiil.png" alt="About photo">
      </div>
      <div style="margin-top:12px; max-width:520px; margin-left:auto; margin-right:auto;">
        <h2>About Me</h2>
        <p class="muted">Hi — I'm PaperRatCrafts. I make a variety of art including digital pieces, physical handcrafted objects, sewing & embroidery pieces, and jewelry boxes. I don't use AI for training and I don't mint NFTs. Below you can add a short bio and update the center image by replacing the file in your repository or by using the file input below (preview only).</p>
        <div style="margin-top:8px;">
          <input id="aboutFile" type="file" accept="image/*">
        </div>
      </div>
    </div>

    <div class="side-images" style="align-items:flex-start;">
      <img src="images/about-right-1.png" alt="right sample" onerror="this.style.visibility='hidden'">
      <img src="images/about-right-2.png" alt="right sample 2" onerror="this.style.visibility='hidden'">
    </div>
  </section>

  <!-- Contact -->
  <section class="contact" aria-label="Contact">
    <h3>Contact</h3>
    <p class="muted">Email: <a href="mailto:you@example.com">you@example.com</a></p>
    <p class="muted">Instagram: <a href="https://instagram.com/" target="_blank" rel="noopener">yourhandle</a></p>
    <p class="muted">Commissions & collaborations welcome.</p>
  </section>

  <footer>
    © 2026 PaperRatCrafts · All Rights Reserved  
    <br>No AI training · No NFTs
  </footer>
</div>

<script>
  /*******************************
   * Gallery data & configuration
   *******************************/
  const categories = [
    {label: "Digital art", folder: "digital-art"},
    {label: "Physical art", folder: "physical-art"},
    {label: "Sewing & Embroidery", folder: "sewing-embroidery"},
    {label: "Jewelry boxes", folder: "jewelry-boxes"},
    {label: "Other", folder: "other"}
  ];

  /*
   * imagesMap: Fill these arrays with the filenames that exist in each folder under images/<folder>/
   * Example:
   * imagesMap["digital-art"] = ["art1.jpg","art2.jpg","art3.png"]
   *
   * If you prefer to add a manifest.json inside each folder, you can change the loader to fetch that.
   */
  const imagesMap = {
    "digital-art": [
      /* "digital1.jpg", "digital2.jpg" */
    ],
    "physical-art": [
      /* "physical1.jpg", "physical2.jpg" */
    ],
    "sewing-embroidery": [
      /* "sew1.jpg", "embroidery2.png" */
    ],
    "jewelry-boxes": [
      /* "box1.jpg" */
    ],
    "other": [
      /* "other1.jpg" */
    ]
  };

  // Behavior: If imagesMap[folder] is empty, the script will try to probe sequential filenames 1..12 with common extensions.
  const probeExtensions = ["jpg","jpeg","png","webp","gif"];
  const probeMax = 12;

  /*******************************
   * Utilities & DOM refs
   *******************************/
  const categoryMenu = document.getElementById('categoryMenu');
  const thumbnails = document.getElementById('thumbnails');
  const selectedImage = document.getElementById('selectedImage');
  const detailsForm = document.getElementById('detailsForm');
  const noSelection = document.getElementById('noSelection');
  const imgTitle = document.getElementById('imgTitle');
  const imgDate = document.getElementById('imgDate');
  const imgDesc = document.getElementById('imgDesc');
  const saveDetails = document.getElementById('saveDetails');
  const clearDetailsBtn = document.getElementById('clearDetails');
  const aboutFile = document.getElementById('aboutFile');
  const aboutPhoto = document.getElementById('aboutPhoto');

  let currentCategory = categories[0].folder;
  let currentSrc = selectedImage.src;

  /*******************************
   * Init UI
   *******************************/
  function initMenu(){
    categories.forEach((c, idx) => {
      const btn = document.createElement('button');
      btn.textContent = c.label;
      btn.dataset.folder = c.folder;
      if(idx===0) btn.classList.add('active');
      btn.addEventListener('click', () => {
        document.querySelectorAll('nav.menu button').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        loadGallery(c.folder);
      });
      categoryMenu.appendChild(btn);
    });
  }

  async function loadGallery(folder){
    currentCategory = folder;
    thumbnails.innerHTML = '';
    // First, use explicit list if provided
    const explicit = imagesMap[folder] && imagesMap[folder].length>0;
    if(explicit){
      imagesMap[folder].forEach(fname => {
        addThumb(`images/${folder}/${fname}`);
      });
    } else {
      // Probe sequential filenames 1..probeMax for common extensions
      for(let i=1;i<=probeMax;i++){
        for(const ext of probeExtensions){
          const url = `images/${folder}/${i}.${ext}`;
          addThumb(url); // will be removed on error
        }
      }
    }

    // If nothing visible after a short delay, show placeholder
    setTimeout(()=>{
      if(thumbnails.querySelectorAll('img').length===0){
        thumbnails.innerHTML = '<div class="placeholder" style="padding:12px">No images found for this category. Add filenames to imagesMap in the script, or put files inside images/'+folder+' with predictable names.</div>';
        // clear selection UI
        selectedImage.src = 'images/Logo_profiil.png';
        detailsForm.style.display = 'none';
        noSelection.style.display = 'block';
      } else {
        // select first available thumb
        const first = thumbnails.querySelector('img');
        if(first) first.click();
      }
    },800);
  }

  function addThumb(src){
    const img = document.createElement('img');
    img.src = src;
    img.alt = 'Artwork thumbnail';
    // hide broken images automatically
    img.onerror = ()=>{ img.remove(); };
    img.onclick = ()=>{ selectImage(src); };
    thumbnails.appendChild(img);
  }

  function selectImage(src){
    currentSrc = src;
    selectedImage.src = src;
    // load details from localStorage
    const key = `art-details:${src}`;
    const saved = localStorage.getItem(key);
    if(saved){
      const obj = JSON.parse(saved);
      imgTitle.value = obj.title || '';
      imgDate.value = obj.date || '';
      imgDesc.value = obj.description || '';
    } else {
      imgTitle.value = '';
      imgDate.value = '';
      imgDesc.value = '';
    }
    detailsForm.style.display = 'block';
    noSelection.style.display = 'none';
  }

  saveDetails.addEventListener('click', ()=>{
    if(!currentSrc) return;
    const key = `art-details:${currentSrc}`;
    const payload = {
      title: imgTitle.value.trim(),
      date: imgDate.value,
      description: imgDesc.value.trim(),
      savedAt: new Date().toISOString()
    };
    localStorage.setItem(key, JSON.stringify(payload));
    // small feedback
    saveDetails.textContent = 'Saved';
    setTimeout(()=> saveDetails.textContent = 'Save', 900);
  });

  clearDetailsBtn.addEventListener('click', ()=>{
    if(!currentSrc) return;
    const key = `art-details:${currentSrc}`;
    localStorage.removeItem(key);
    imgTitle.value = ''; imgDate.value = ''; imgDesc.value = '';
  });

  // About preview upload (local preview only)
  aboutFile.addEventListener('change', (e)=>{
    const f = e.target.files && e.target.files[0];
    if(!f) return;
    const reader = new FileReader();
    reader.onload = (ev)=>{
      aboutPhoto.src = ev.target.result;
    };
    reader.readAsDataURL(f);
  });

  // Initialize
  initMenu();
  loadGallery(currentCategory);

  // Accessibility: allow keyboard focus and Enter on thumbnails
  thumbnails.addEventListener('keydown', (e)=>{
    if(e.key === 'Enter' && e.target.tagName==='IMG'){
      e.target.click();
    }
  });

  // Ensure thumbnails scrolls to clicked image
  thumbnails.addEventListener('click', (e)=>{
    if(e.target.tagName==='IMG'){
      e.target.scrollIntoView({behavior:'smooth', inline:'center'});
    }
  });

</script>

</body>
</html>
